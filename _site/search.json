[
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "title": "Take Home Exercise 1",
    "section": "",
    "text": "City of Engagement is a small city in the Country of Nowhere with a population of 50,000. It serves as one of the key agricultural service centre in the region, specifically fruit farms and vineyards. The local city council is currently preparing the Local Plan 2023, which outlines the upcoming community revitalization plans. To support decision-making by the council, a representative sample survey was conducted with 1,000 residents to collect key household demographic and expenditure data, spanning 1 year from Mar 2022 to Feb 2023. By analyzing the survey results, the council aims to better optimize the allocation of the city renewal funds to more needy groups and/or areas of concern."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#install-and-launching-r-packages",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#install-and-launching-r-packages",
    "title": "Take Home Exercise 1",
    "section": "2.1 Install and launching R packages",
    "text": "2.1 Install and launching R packages\nThe code chunk below uses p_load() of pacman package to check if the relevant packages are installed in the computer. If they are, then they will be launched into R. The packages are:\n\nplotly: Used for creating interactive web-based graphs.\nggstatsplot: Used for creating graphics with details from statistical tests.\nknitr: Used for dynamic report generation\npatchwork: Used to combine plots\nggdist: Used for visualising distribution and uncertainty\nggthemes: Provide additional themes for `ggplot2`\ntidyverse: A collection of core packages designed for data science, used extensively for data preparation and wrangling.’\nlubridate: Used for converting dates and timestamps\nzoo: Used to work with time series data\nggridges: Used to create ridgeline plots\ngganimate: Used to create animated visualizations\nnortest: Used for normality checks\ngt: Used for creating customized tables\n\n\npacman::p_load(plotly, ggstatsplot, knitr, patchwork, ggdist, \n               ggthemes, tidyverse, lubridate, zoo, scales, \n               ggridges, ggplot2, gganimate, nortest, gt, rstatix)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#importing-the-data",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#importing-the-data",
    "title": "Take Home Exercise 1",
    "section": "2.2 Importing the Data",
    "text": "2.2 Importing the Data\nThe following code chunk uses read_csv to import the necessary csv files and assign them to the relevant variables. An overview of the initial tables and columns is provided below.\n\nCodeFinancial DataDemographic Data\n\n\n\nFinancial <- read_csv(\"data/FinancialJournal.csv\")\nDemographic <- read_csv(\"data/Participants.csv\")\n\n\n\n\n\nCode\nkable(data.frame(head(Financial)))\n\n\n\n\n\nparticipantId\ntimestamp\ncategory\namount\n\n\n\n\n0\n2022-03-01\nWage\n2472.50756\n\n\n0\n2022-03-01\nShelter\n-554.98862\n\n\n0\n2022-03-01\nEducation\n-38.00538\n\n\n1\n2022-03-01\nWage\n2046.56221\n\n\n1\n2022-03-01\nShelter\n-554.98862\n\n\n1\n2022-03-01\nEducation\n-38.00538\n\n\n\n\n\n\n\n\n\nCode\nkable(data.frame(head(Demographic)))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nparticipantId\nhouseholdSize\nhaveKids\nage\neducationLevel\ninterestGroup\njoviality\n\n\n\n\n0\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n\n\n1\n3\nTRUE\n25\nHighSchoolOrCollege\nB\n0.3280865\n\n\n2\n3\nTRUE\n35\nHighSchoolOrCollege\nA\n0.3934696\n\n\n3\n3\nTRUE\n21\nHighSchoolOrCollege\nI\n0.1380634\n\n\n4\n3\nTRUE\n43\nBachelors\nH\n0.8573967\n\n\n5\n3\nTRUE\n32\nHighSchoolOrCollege\nD\n0.7729578"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#data-wrangling",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#data-wrangling",
    "title": "Take Home Exercise 1",
    "section": "2.3 Data Wrangling",
    "text": "2.3 Data Wrangling\nAs the initial step to explore the key statistics of the data, do.call was used to call the functions cbind (combines the output column-wise) and lapply to loop the summary function over each element in the Financial data. The resulting output is then displayed using knitr::kable(), providing a simple overview of the key statistics of each column in the data.\nInitial Overview of Financial Data Set\n\n\nCode\nkable(do.call(cbind, lapply(Financial, summary)))\n\n\n\n\n\n\n\n\n\n\n\n\n\nparticipantId\ntimestamp\ncategory\namount\n\n\n\n\nMin.\n0\n1646092800\n1513636\n-1562.725994\n\n\n1st Qu.\n222\n1653398700\ncharacter\n-5.593565787\n\n\nMedian\n464\n1661439600\ncharacter\n-4\n\n\nMean\n480.902452769358\n1661490048.42419\n1513636\n20.0473679499815\n\n\n3rd Qu.\n726\n1669533900\ncharacter\n21.598204925\n\n\nMax.\n1010\n1677628500\ncharacter\n4096.5260598\n\n\n\n\n\n\n\nCode\nkable(data.frame(sapply(Financial, class)))\n\n\n\n\n\nparticipantId\ntimestamp\ncategory\namount\n\n\n\n\nnumeric\nPOSIXct\ncharacter\nnumeric\n\n\nnumeric\nPOSIXt\ncharacter\nnumeric\n\n\n\n\n\n\n\nCode\nkable(data.frame(sapply(Financial, typeof)))\n\n\n\n\n\n\nsapply.Financial..typeof.\n\n\n\n\nparticipantId\ndouble\n\n\ntimestamp\ndouble\n\n\ncategory\ncharacter\n\n\namount\ndouble\n\n\n\n\n\nInitial Overview of Demographic Data Set\n\n\nCode\nkable(do.call(cbind, lapply(Demographic, summary)))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nparticipantId\nhouseholdSize\nhaveKids\nage\neducationLevel\ninterestGroup\njoviality\n\n\n\n\nMin.\n0\n1\nlogical\n18\n1011\n1011\n0.000204\n\n\n1st Qu.\n252.5\n1\n710\n29\ncharacter\ncharacter\n0.2400743565\n\n\nMedian\n505\n2\n301\n39\ncharacter\ncharacter\n0.477539156\n\n\nMean\n505\n1.96439169139466\nlogical\n39.0741839762611\n1011\n1011\n0.493793727969337\n\n\n3rd Qu.\n757.5\n3\n710\n50\ncharacter\ncharacter\n0.74681873\n\n\nMax.\n1010\n3\n301\n60\ncharacter\ncharacter\n0.999233967\n\n\n\n\n\n\n\nCode\nkable(data.frame(sapply(Demographic, class)))\n\n\n\n\n\n\nsapply.Demographic..class.\n\n\n\n\nparticipantId\nnumeric\n\n\nhouseholdSize\nnumeric\n\n\nhaveKids\nlogical\n\n\nage\nnumeric\n\n\neducationLevel\ncharacter\n\n\ninterestGroup\ncharacter\n\n\njoviality\nnumeric\n\n\n\n\n\n\n\nCode\nkable(data.frame(sapply(Demographic, typeof)))\n\n\n\n\n\n\nsapply.Demographic..typeof.\n\n\n\n\nparticipantId\ndouble\n\n\nhouseholdSize\ndouble\n\n\nhaveKids\nlogical\n\n\nage\ndouble\n\n\neducationLevel\ncharacter\n\n\ninterestGroup\ncharacter\n\n\njoviality\ndouble\n\n\n\n\n\n\n2.3.1 Inaccurate Data Format\nFrom the initial summaries above, it was found that some of the data has been incorrectly imported into R. They were converted to the correct format as shown in the table outputs below.\n\n\nCode\nDemo_cleaned <- Demographic %>%\n  mutate(\n    participantId = as.factor(participantId), \n    householdSize = as.integer(householdSize), \n    # haveKids is ok\n    age = as.integer(age), \n    educationLevel = as.factor(educationLevel), \n    educationLevel = factor(educationLevel, levels = c(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\"), ordered = TRUE), \n    interestGroup = as.factor(interestGroup)\n    # Joviality is ok\n  )\n\n\n\n\nCode\nkable(data.frame(sapply(Demo_cleaned, class)))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nparticipantId\nhouseholdSize\nhaveKids\nage\neducationLevel\ninterestGroup\njoviality\n\n\n\n\nfactor\ninteger\nlogical\ninteger\nordered\nfactor\nnumeric\n\n\nfactor\ninteger\nlogical\ninteger\nfactor\nfactor\nnumeric\n\n\n\n\n\n\n\nCode\nkable(data.frame(sapply(Demo_cleaned, typeof)))\n\n\n\n\n\n\nsapply.Demo_cleaned..typeof.\n\n\n\n\nparticipantId\ninteger\n\n\nhouseholdSize\ninteger\n\n\nhaveKids\nlogical\n\n\nage\ninteger\n\n\neducationLevel\ninteger\n\n\ninterestGroup\ninteger\n\n\njoviality\ndouble\n\n\n\n\n\n\nFin_cleaned <- Financial %>%\n  mutate(\n    participantId   = as.factor(participantId),\n    timestamp   = as.POSIXct(timestamp),\n    category    = as.factor(category),\n    # amount is ok\n  )\n\n\n\nCode\nkable(data.frame(sapply(Fin_cleaned, class)))\n\n\n\n\n\nparticipantId\ntimestamp\ncategory\namount\n\n\n\n\nfactor\nPOSIXct\nfactor\nnumeric\n\n\nfactor\nPOSIXt\nfactor\nnumeric\n\n\n\n\n\n\n\nCode\nkable(data.frame(sapply(Fin_cleaned, typeof)))\n\n\n\n\n\n\nsapply.Fin_cleaned..typeof.\n\n\n\n\nparticipantId\ninteger\n\n\ntimestamp\ndouble\n\n\ncategory\ninteger\n\n\namount\ndouble\n\n\n\n\n\n\n\n2.3.2 Recode ‘RentAdjustment’ Category In Financial Journal\nRent adjustment is understood as the rebate that is given by the owner to the tenants in view of various reasons. To facilitate the ease of analysis and avoid any areas prone to misunderstanding, this category was merged with ‘Shelter’ using the recode function.\n\nFin_cleaned$category <- recode(Fin_cleaned$category, 'RentAdjustment' = 'Shelter')\n\n\n\n2.3.3 Remove Duplicate Data in Financial Journal\n1,113 entries were found to be duplicated with matching records in all variables using duplicated. It is likely that these transactions were erroneous. Hence, they were removed using unique, leaving 1,512,523 records.\n\nnrow(Fin_cleaned[duplicated(Fin_cleaned),])\n\n[1] 1113\n\n\n\nFin_cleaned <- unique(Fin_cleaned)\nnrow(Fin_cleaned)\n\n[1] 1512523\n\n\n\n\n2.3.4 Missing Records in Financial Journal\nWhile no missing values were found in both data sets using is.na, some participants were found to have significantly lower number of transactions.\n\n\nCode\nsum(is.na(Fin_cleaned))\nsum(is.na(Demo_cleaned))\npax_txn_count <- Fin_cleaned %>% count(participantId, sort = TRUE)\npax_txn_count %>% arrange(n)\n\n\nUpon further investigation, it was found that these transactions only occurred in March 2022 as seen from the white areas in the transaction heat map below. To facilitate analysis, a new column for the transactions’ month-year was created. 131 participants were found to be in this category and their corresponding transactions were removed from the analysis.\n\nPlotCode\n\n\n\n\n\n\n\n\n\n\nFin_cleaned$month_year <- as.yearmon(as.Date(Fin_cleaned$timestamp))\nFin_cleaned_pivot <- Fin_cleaned %>% \n  group_by(participantId, month_year) %>%\n  summarize(value_sum = sum(amount)) %>%\n  pivot_wider(names_from = month_year, values_from = value_sum)\n\nheatmap_data <- as.matrix(Fin_cleaned_pivot[, -1])\nheatmap(heatmap_data, Colv = NA, Rowv = NA, scale = \"column\", xlab = \"Month-Year\", ylab = \"participantId\", col = gray.colors(10), cexCol = 0.7)\n\n\n\n\n\n\nCode\npax_to_remove <- Fin_cleaned_pivot[which(rowSums(is.na(Fin_cleaned_pivot)) > 0),\"participantId\"]\npax_to_remove = as.list(as.character(pax_to_remove$participantId))\nFin_cleaned <- Fin_cleaned[!(Fin_cleaned$participantId %in% pax_to_remove),]\n\n\n\n\n2.3.5 Aggregate Statistics for Analysis\nThe Financial Journal data is segregated by individual transaction entries which are not useful for analysis. A new data table was created to aggregate the transaction amounts based on the month-year and categories.\n\n\nCode\nFin_cleaned_agg <- Fin_cleaned %>% \n  group_by(participantId, month_year, category) %>%\n  summarize(value_sum = sum(amount)) %>%\n  pivot_wider(names_from = c(category), values_from = value_sum)\nFin_cleaned_agg[is.na(Fin_cleaned_agg)] <- 0\n\n\n\n\n2.3.6 Statistics for Financial Health\nTo facilitate the analysis of financial health, additional definitions and variables were created relating to the transaction categories, as described below.\n\nFinancial Health = Wage + Education + Shelter + Recreation + Food\nExpenses = Education + Shelter + Recreation + Food\n\n\n\nCode\nFin_cleaned_agg$Financial_Health <- rowSums(Fin_cleaned_agg[, c(\"Wage\", \"Education\", \"Shelter\", \"Recreation\", \"Food\")])\nFin_cleaned_agg$Expenses <- rowSums(Fin_cleaned_agg[, c(\"Education\", \"Shelter\", \"Recreation\", \"Food\")])\n\n\n\n\n2.3.7 Bin Age and Joviality Data\nTo facilitate analysis, the age and joviality data which are continuous were also binned.\n\n\nCode\nDemo_cleaned$age_group <- cut(Demo_cleaned$age, breaks = 6)\nDemo_cleaned$joviality_group <- cut(Demo_cleaned$joviality, breaks = 10)\n\n\n\n\n2.3.8 Final Analysis Data\nThe final cleaned financial and demographic data were merged to form an aggregated table as shown below.\n\n\nCode\nall_agg_data <- merge(Fin_cleaned_agg, Demo_cleaned, by = \"participantId\", all = FALSE)\nkable(data.frame(head(all_agg_data)))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nparticipantId\nmonth_year\nEducation\nFood\nRecreation\nShelter\nWage\nFinancial_Health\nExpenses\nhouseholdSize\nhaveKids\nage\neducationLevel\ninterestGroup\njoviality\nage_group\njoviality_group\n\n\n\n\n0\nMar 2022\n-38.00538\n-268.3380\n-348.7174\n-554.9886\n11931.95\n10721.898\n-1210.049\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n(32,39]\n(-0.000795,0.1]\n\n\n0\nApr 2022\n-38.00538\n-265.8560\n-219.4290\n-554.9886\n8636.88\n7558.601\n-1078.279\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n(32,39]\n(-0.000795,0.1]\n\n\n0\nMay 2022\n-38.00538\n-264.6161\n-383.0088\n-554.9886\n9048.16\n7807.541\n-1240.619\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n(32,39]\n(-0.000795,0.1]\n\n\n0\nJun 2022\n-38.00538\n-256.9723\n-465.6816\n-554.9886\n9048.16\n7732.512\n-1315.648\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n(32,39]\n(-0.000795,0.1]\n\n\n0\nJul 2022\n-38.00538\n-270.2128\n-1069.5441\n-554.9886\n8636.88\n6704.129\n-1932.751\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n(32,39]\n(-0.000795,0.1]\n\n\n0\nAug 2022\n-38.00538\n-261.8386\n-314.1417\n-554.9886\n9459.44\n8290.466\n-1168.974\n3\nTRUE\n36\nHighSchoolOrCollege\nH\n0.0016267\n(32,39]\n(-0.000795,0.1]"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#demographic-data-visualization",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#demographic-data-visualization",
    "title": "Take Home Exercise 1",
    "section": "3.1 Demographic Data Visualization",
    "text": "3.1 Demographic Data Visualization\nIncome Distribution\n\nannual_data <- all_agg_data %>% \n  group_by(participantId) %>%\n  summarize(Education = sum(Education),\n            Food = sum(Food),\n            Recreation = sum(Recreation),\n            Shelter = sum(Shelter),\n            Wage = sum(Wage),\n            Financial_Health = sum(Financial_Health),\n            Expenses = sum(Expenses))\nannual_data <- merge(annual_data, Demo_cleaned, by = \"participantId\", all = FALSE)\n\np1 <- ggplot(data=annual_data,\n       aes(x=Wage)) +\n  geom_boxplot() + \n  ggtitle(\"Annual Income Distribution\") + \n  theme(\n    axis.title = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\np2 <- ggplot(data=annual_data,\n       aes(x=Wage)) +\n  geom_histogram(bins = 20)\n\np1 / p2 + plot_layout(heights = c(0.1,0.9))\n\n\n\n\n\nggplot(data=annual_data,\n       aes(sample=Wage)) +\n  stat_qq() + \n  stat_qq_line()\n\n\n\n\n\n\nCode\n#Initiating the base plot\nplot_ly(data = annual_data,\n        x = ~age_group,\n        y = ~Financial_Health,\n        line = list(width =1),\n        type = \"violin\",\n        marker = list(opacity = 0.5,\n          line = list(width = 2)),\n        box = list(visible = T),\n        meanline = list(visible = T,\n                        color = \"red\")) |> \n  \n#Generating plot  \n  layout(title = \"\",\n         xaxis = list(title = \"\"),\n         yaxis = list(title = \"\"),\n         \n#creating dropwdown menus to allow selection of parameters on x-axis and y-axis\n         updatemenus = list(\n           \n           # x-axis menu\n           \n           list(type = 'dropdown',\n                direction = \"up\",\n                xref = \"paper\",\n                yref = \"paper\",\n                xanchor = \"left\",\n                x = 1, \n                y = 0,\n                buttons = list(\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$age_group)),\n                                   list(xaxis = list(categoryorder = \"category ascending\"))),\n                       label = \"Age Group\"),\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$joviality_group)),\n                                   list(xaxis = list(categoryorder = \"category ascending\"))),\n                       label = \"Joviality Group\"),\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$educationLevel)),\n                                   list(xaxis = list(categoryarray = list(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\")))),\n                       label = \"Education Level\"),\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$interestGroup)),\n                                   list(xaxis = list(categoryorder = \"category ascending\"))),\n                       label = \"Interest Group\")\n                  )\n                ),\n           # y-axis menu\n           \n           list(type = 'dropdown', \n                xref = \"paper\",\n                yref = \"paper\",\n                xanchor = \"right\",\n                x = 0, \n                y = 1,\n                buttons = list(\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Financial_Health)),\n                                   list(yaxis = list(title = \"Financial_Health\"))),\n                       label = \"Financial_Health\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Wage)),\n                                   list(yaxis = list(title = \"Wage\"))),\n                       label = \"Wage\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Expenses)),\n                                   list(yaxis = list(title = \"Expenses\"))),\n                       label = \"Expenses\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Education)),\n                                   list(yaxis = list(title = \"Education\"))),\n                       label = \"Education\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Food)),\n                                   list(yaxis = list(title = \"Food\"))),\n                       label = \"Food\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Recreation)),\n                                   list(yaxis = list(title = \"Recreation\"))),\n                       label = \"Recreation\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Shelter)),\n                                   list(yaxis = list(title = \"Shelter\"))),\n                       label = \"Shelter\")\n                  )\n                )\n           )           \n         )\n\n\n\n\n\n\n\n\nCode\n#Initiating the base plot\nplot_ly(data = all_agg_data,\n        x = ~month_year,\n        y = ~Financial_Health,\n        line = list(width =1),\n        type = \"violin\",\n        marker = list(opacity = 0.5,\n          line = list(width = 2)),\n        box = list(visible = T),\n        meanline = list(visible = T,\n                        color = \"red\")) |> \n  \n#Generating plot  \n  layout(title = \"\",\n         #xaxis = list(title = \"\"),\n         xaxis = list(\n           tickvals = unique(all_agg_data$month_year),\n           ticktext = as.character(unique(all_agg_data$month_year))\n           ),\n         yaxis = list(title = \"\"),\n         \n#creating dropwdown menus to allow selection of parameters on x-axis and y-axis\n         updatemenus = list(\n           \n           # y-axis menu\n           \n           list(type = 'dropdown', \n                xref = \"paper\",\n                yref = \"paper\",\n                xanchor = \"right\",\n                x = 0, \n                y = 1,\n                buttons = list(\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Financial_Health)),\n                                   list(yaxis = list(title = \"Financial_Health\"))),\n                       label = \"Financial_Health\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Wage)),\n                                   list(yaxis = list(title = \"Wage\"))),\n                       label = \"Wage\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Expenses)),\n                                   list(yaxis = list(title = \"Expenses\"))),\n                       label = \"Expenses\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Education)),\n                                   list(yaxis = list(title = \"Education\"))),\n                       label = \"Education\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Food)),\n                                   list(yaxis = list(title = \"Food\"))),\n                       label = \"Food\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Recreation)),\n                                   list(yaxis = list(title = \"Recreation\"))),\n                       label = \"Recreation\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Shelter)),\n                                   list(yaxis = list(title = \"Shelter\"))),\n                       label = \"Shelter\")\n                  )\n                )\n           )           \n         )\n\n\n\n\n\n\n\n3.1.1 Monthly Trends\n\nAge Group\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = age_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'age_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = age_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'age_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = age_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'age_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\n\nJoviality Group\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = joviality_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'joviality_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = joviality_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'joviality_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = joviality_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'joviality_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\n\nEducation Level\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = educationLevel)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'educationLevel') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = educationLevel)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'educationLevel') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = educationLevel)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'educationLevel') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\n\nInterest Group\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = interestGroup)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'interestGroup') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = interestGroup)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'interestGroup') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = interestGroup)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'interestGroup') +\n  ease_aes(\"linear\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-annual-financial-data",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-annual-financial-data",
    "title": "Take Home Exercise 1",
    "section": "3.1 Visualization of Annual Financial Data",
    "text": "3.1 Visualization of Annual Financial Data\nThe monthly aggregated financial data by participants was further consolidated to obtain the overall annual values. From the plots of annual wages, expenses and financial health, the wages and financial health data does not appear to be normal but there is no evidence to suggest that the expenses data deviates from a normal distribution. While financial health is derived from both wages and expenses, there may be a possibility that financial health is more strongly affected and correlated to wage than expenses, given the similar distribution shape between wages and financial health.\n\nWageExpenseFinancial Health\n\n\n\n\nCode\nannual_data <- all_agg_data %>% \n  group_by(participantId) %>%\n  summarize(Education = sum(Education),\n            Food = sum(Food),\n            Recreation = sum(Recreation),\n            Shelter = sum(Shelter),\n            Wage = sum(Wage),\n            Financial_Health = sum(Financial_Health),\n            Expenses = sum(Expenses))\nannual_data <- merge(annual_data, Demo_cleaned, by = \"participantId\", all = FALSE)\n\np1 <- ggplot(data=annual_data,\n       aes(x=Wage)) +\n  geom_boxplot() + \n  ggtitle(\"Annual Wage Distribution\") + \n  theme(\n    axis.title = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\np2 <- ggplot(data=annual_data,\n       aes(x=Wage)) +\n  geom_histogram(bins = 20)\n\np1 / p2 + plot_layout(heights = c(0.1,0.9))\n\n\n\n\n\n\n\nFrom the Shapiro-Wilk test results, there is no evidence to suggest that the expenses distribution deviates from a normal distribution.\n\n\nCode\np1 <- ggplot(data=annual_data,\n       aes(x=Expenses)) +\n  geom_boxplot() + \n  ggtitle(\"Annual Expenses Distribution\") + \n  theme(\n    axis.title = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\np2 <- ggplot(data=annual_data,\n       aes(x=Expenses)) +\n  geom_histogram(bins = 20)\n\np1 / p2 + plot_layout(heights = c(0.1,0.9))\n\n\n\n\n\n\n\nCode\nqq <- ggplot(annual_data,\n       aes(sample=Expenses)) + \n  stat_qq() + \n  stat_qq_line()\n\nsw_t <- annual_data %>%\n  shapiro_test(Expenses) %>%\n  gt()\n\ntmp <- tempfile(fileext = \".png\")\ngtsave(sw_t, tmp)\ntable_png <- png::readPNG(tmp, native = TRUE)\n\nqq + table_png\n\n\n\n\n\n\n\n\n\nCode\np1 <- ggplot(data=annual_data,\n       aes(x=Financial_Health)) +\n  geom_boxplot() + \n  ggtitle(\"Annual Financial Health Distribution\") + \n  theme(\n    axis.title = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank()\n  )\n\np2 <- ggplot(data=annual_data,\n       aes(x=Financial_Health)) +\n  geom_histogram(bins = 20)\n\np1 / p2 + plot_layout(heights = c(0.1,0.9))"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-annual-financial-data-by-demographic-groups",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-annual-financial-data-by-demographic-groups",
    "title": "Take Home Exercise 1",
    "section": "3.2 Visualization of Annual Financial Data by Demographic Groups",
    "text": "3.2 Visualization of Annual Financial Data by Demographic Groups\nWe can further explore the annual financial data distributions of each demographic group to discover any patterns for further investigation. This is done through the interactive violin box plot below, which allows the variables of both the x and y axes to be amended. By exploring with the chart below, the following observations were made with each demographic groups:\n\nAge: There did not seem to be differences in financial health between age groups.\nJoviality: The financial health of more jovial groups seems to be lower than that of less jovial ones.\nEducation Level: The more highly-educated groups seemed to be in a better financial health.\nInterest Groups: There did not seem to be differences in financial health between interests groups.\n\nDue to time constraints, this report will only focus on the groups with differences for subsequent sections, i.e. joviality and education level. Following similar visualization methods, further work can be done for other groups in the future.\n\n\nCode\n#Initiating the base plot\nplot_ly(data = annual_data,\n        x = ~age_group,\n        y = ~Financial_Health,\n        line = list(width =1),\n        type = \"violin\",\n        marker = list(opacity = 0.5,\n          line = list(width = 2)),\n        box = list(visible = T),\n        meanline = list(visible = T,\n                        color = \"red\")) |> \n  \n#Generating plot  \n  layout(title = \"\",\n         xaxis = list(title = \"\"),\n         yaxis = list(title = \"\"),\n         \n#creating dropwdown menus to allow selection of parameters on x-axis and y-axis\n         updatemenus = list(\n           \n           # x-axis menu\n           \n           list(type = 'dropdown',\n                direction = \"up\",\n                xref = \"paper\",\n                yref = \"paper\",\n                xanchor = \"left\",\n                x = 1, \n                y = 0,\n                buttons = list(\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$age_group)),\n                                   list(xaxis = list(categoryorder = \"category ascending\"))),\n                       label = \"Age Group\"),\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$joviality_group)),\n                                   list(xaxis = list(categoryorder = \"category ascending\"))),\n                       label = \"Joviality Group\"),\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$educationLevel)),\n                                   list(xaxis = list(categoryarray = list(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\")))),\n                       label = \"Education Level\"),\n                  list(method = \"update\",\n                       args = list(list(x = list(annual_data$interestGroup)),\n                                   list(xaxis = list(categoryorder = \"category ascending\"))),\n                       label = \"Interest Group\")\n                  )\n                ),\n           # y-axis menu\n           \n           list(type = 'dropdown', \n                xref = \"paper\",\n                yref = \"paper\",\n                xanchor = \"right\",\n                x = 0, \n                y = 1,\n                buttons = list(\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Financial_Health)),\n                                   list(yaxis = list(title = \"Financial_Health\"))),\n                       label = \"Financial_Health\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Wage)),\n                                   list(yaxis = list(title = \"Wage\"))),\n                       label = \"Wage\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Expenses)),\n                                   list(yaxis = list(title = \"Expenses\"))),\n                       label = \"Expenses\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Education)),\n                                   list(yaxis = list(title = \"Education\"))),\n                       label = \"Education\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Food)),\n                                   list(yaxis = list(title = \"Food\"))),\n                       label = \"Food\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Recreation)),\n                                   list(yaxis = list(title = \"Recreation\"))),\n                       label = \"Recreation\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(annual_data$Shelter)),\n                                   list(yaxis = list(title = \"Shelter\"))),\n                       label = \"Shelter\")\n                  )\n                )\n           )           \n         )"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-monthly-financial-data",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-monthly-financial-data",
    "title": "Take Home Exercise 1",
    "section": "3.3 Visualization of Monthly Financial Data",
    "text": "3.3 Visualization of Monthly Financial Data\nOther than demographic groups, the distributions of financial data by individual months were also explored. From the plots below, the population sample seems to financially healthier in March 2022 but decreased and remained relatively consistent thereafter.\n\n\nCode\n#Initiating the base plot\nplot_ly(data = all_agg_data,\n        x = ~month_year,\n        y = ~Financial_Health,\n        line = list(width =1),\n        type = \"violin\",\n        marker = list(opacity = 0.5,\n          line = list(width = 2)),\n        box = list(visible = T),\n        meanline = list(visible = T,\n                        color = \"red\")) |> \n  \n#Generating plot  \n  layout(title = \"\",\n         #xaxis = list(title = \"\"),\n         xaxis = list(\n           tickvals = unique(all_agg_data$month_year),\n           ticktext = as.character(unique(all_agg_data$month_year))\n           ),\n         yaxis = list(title = \"\"),\n         \n#creating dropwdown menus to allow selection of parameters on x-axis and y-axis\n         updatemenus = list(\n           \n           # y-axis menu\n           \n           list(type = 'dropdown', \n                xref = \"paper\",\n                yref = \"paper\",\n                xanchor = \"right\",\n                x = 0, \n                y = 1,\n                buttons = list(\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Financial_Health)),\n                                   list(yaxis = list(title = \"Financial_Health\"))),\n                       label = \"Financial_Health\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Wage)),\n                                   list(yaxis = list(title = \"Wage\"))),\n                       label = \"Wage\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Expenses)),\n                                   list(yaxis = list(title = \"Expenses\"))),\n                       label = \"Expenses\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Education)),\n                                   list(yaxis = list(title = \"Education\"))),\n                       label = \"Education\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Food)),\n                                   list(yaxis = list(title = \"Food\"))),\n                       label = \"Food\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Recreation)),\n                                   list(yaxis = list(title = \"Recreation\"))),\n                       label = \"Recreation\"),\n                  list(method = \"update\",\n                       args = list(list(y = list(all_agg_data$Shelter)),\n                                   list(yaxis = list(title = \"Shelter\"))),\n                       label = \"Shelter\")\n                  )\n                )\n           )           \n         )\n\n\n\n\n\n\n\n3.3.1 Monthly Trends by Demographic Groups\nBuilding on the previous observation that March 2022 seemed to be a unique month, the monthly data for each demographic group were further explored to detect if there was any patterns specific to any group through the animated ridge line plots.\n\nAge Group\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = age_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'age_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = age_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'age_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = age_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'age_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\n\nJoviality Group\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = joviality_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'joviality_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = joviality_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'joviality_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = joviality_group)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'joviality_group') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\n\nEducation Level\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = educationLevel)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'educationLevel') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = educationLevel)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'educationLevel') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = educationLevel)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'educationLevel') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\n\nInterest Group\n\nFinancial HealthWageExpenses\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Financial_Health, \n           y = interestGroup)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Financial_Health', \n       y = 'interestGroup') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Wage, \n           y = interestGroup)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Wage', \n       y = 'interestGroup') +\n  ease_aes(\"linear\")\n\n\n\n\n\n\n\n\n\nCode\nggplot(all_agg_data, \n       aes(x = Expenses, \n           y = interestGroup)) +\n  geom_density_ridges(scale = 2, rel_min_height = 0.01) + \n  transition_states(month_year) + \n  labs(title = 'Year: {closest_state}', \n       x = 'Expenses', \n       y = 'interestGroup') +\n  ease_aes(\"linear\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-daily-financial-data-for-march-2022",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#visualization-of-daily-financial-data-for-march-2022",
    "title": "Take Home Exercise 1",
    "section": "3.4 Visualization of Daily Financial Data for March 2022",
    "text": "3.4 Visualization of Daily Financial Data for March 2022\nSince none of the demographic groups saw any different pattern for March 2022 (i.e. financial data for March 2022 is consistently different for all demographic groups), the daily data for that particular month was further explored. From the uncertainty plot, it was found that the median wage distributed on 1 March 2022 was exceptionally higher than all other days. This may have been due to unique payouts such as yearly salary bonuses that were given out to all workers on the same day.\n\n\nCode\nFin_cleaned_Mar <- Fin_cleaned %>%\n  filter(month_year==as.yearmon(\"Mar 2022\")) %>%\n  mutate(timestamp, date=as.Date(timestamp)) %>%\n  group_by(participantId, date, category) %>%\n  summarize(value_sum = sum(amount)) %>%\n  pivot_wider(names_from = c(category), values_from = value_sum)\nFin_cleaned_Mar[is.na(Fin_cleaned_Mar)] <- 0\n\nggplot(\n  data=Fin_cleaned_Mar,\n  aes(x=date, y=Wage)) +\n  stat_pointinterval(\n    aes(interval_color = stat(level)),\n    .width = c(0.95, 0.99),\n    .point = median,\n    .interval = qi,\n    point_color = \"darkred\",\n    show.legend = FALSE) +\n\n#Defining the color of the intervals \n  scale_color_manual(\n    values = c(\"blue2\", \"darkblue\"),\n    aesthetics = \"interval_color\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-data-across-months",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-data-across-months",
    "title": "Take Home Exercise 1",
    "section": "4.1 Differences in Financial Data across Months",
    "text": "4.1 Differences in Financial Data across Months\nWhile it was found that a large payout was distributed on 1 Mar 2022, the differences between the month of March with other months were further investigated to confirm that it is indeed statistically significant.\n\n4.1.1 Normality Assumption Check\nFrom the results below, the financial data did not seem to follow a normal distribution in all months at a 95% confidence level. Hence, the pairwise non-parametric tests were carried out.\n\nWageExpensesRecreation\n\n\n\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$month_year)){\n  subdf <- subset(x=all_agg_data, subset = month_year == as.yearmon(i))\n  ad_t[[x]] <- ad.test(subdf$Wage)\n  x <- x+1\n}\n\nad_t_table <- tibble(month_year = as.character(unique(all_agg_data$month_year)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$month_year)){\n  subdf <- subset(x=all_agg_data, subset = month_year == as.yearmon(i))\n  ad_t[[x]] <- ad.test(subdf$Expenses)\n  x <- x+1\n}\n\nad_t_table <- tibble(month_year = as.character(unique(all_agg_data$month_year)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$month_year)){\n  subdf <- subset(x=all_agg_data, subset = month_year == as.yearmon(i))\n  ad_t[[x]] <- ad.test(subdf$Recreation)\n  x <- x+1\n}\n\nad_t_table <- tibble(month_year = as.character(unique(all_agg_data$month_year)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\n\n\n4.1.2 Dunn Pairwise Test\nFrom the tests results, March 2022 shows significant differences in wage,\n\nWageExpensesRecreation\n\n\n\nggbetweenstats(\n  data = all_agg_data,\n  x = month_year, \n  y = Wage,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\nggbetweenstats(\n  data = all_agg_data,\n  x = month_year, \n  y = Expenses,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\nggbetweenstats(\n  data = all_agg_data,\n  x = month_year, \n  y = Recreation,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\nCorrelation with Financial Health\n\nWageExpensesRecreation\n\n\n\nggscatterstats(\n data = all_agg_data,\n x = Wage,\n y = Financial_Health,\n marginal = FALSE) +\n  theme_minimal() +\n  labs(title = 'Correlation of Financial Health and Wage', x = \"Wage\", y = \"Financial Health\")\n\n\n\n\n\n\n\nggscatterstats(\n data = all_agg_data,\n x = Expenses,\n y = Financial_Health,\n marginal = FALSE) +\n  theme_minimal() +\n  labs(title = 'Correlation of Financial Health and Expenses', x = \"Expenses\", y = \"Financial Health\")\n\n\n\n\n\n\n\nggscatterstats(\n data = all_agg_data,\n x = Recreation,\n y = Financial_Health,\n marginal = FALSE) +\n  theme_minimal() +\n  labs(title = 'Correlation of Financial Health and Recreation', x = \"Recreation\", y = \"Financial Health\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-data-across-months---march-2022-was-a-good-month",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-data-across-months---march-2022-was-a-good-month",
    "title": "Take Home Exercise 1",
    "section": "4.1 Differences in Financial Data across Months - March 2022 was a good month!",
    "text": "4.1 Differences in Financial Data across Months - March 2022 was a good month!\nWhile it was found that a large payout was distributed on 1 Mar 2022, the differences between the month of March with other months were further investigated to confirm that it is indeed statistically significant.\n\n4.1.1 Normality Assumption Check\nFrom the results below, the financial data did not seem to follow a normal distribution in all months at a 95% confidence level. Hence, the pairwise non-parametric tests were carried out.\n\nWageExpensesRecreation\n\n\n\n\nCode\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$month_year)){\n  subdf <- subset(x=all_agg_data, subset = month_year == as.yearmon(i))\n  ad_t[[x]] <- ad.test(subdf$Wage)\n  x <- x+1\n}\n\nad_t_table <- tibble(month_year = as.character(unique(all_agg_data$month_year)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$month_year)){\n  subdf <- subset(x=all_agg_data, subset = month_year == as.yearmon(i))\n  ad_t[[x]] <- ad.test(subdf$Expenses)\n  x <- x+1\n}\n\nad_t_table <- tibble(month_year = as.character(unique(all_agg_data$month_year)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$month_year)){\n  subdf <- subset(x=all_agg_data, subset = month_year == as.yearmon(i))\n  ad_t[[x]] <- ad.test(subdf$Recreation)\n  x <- x+1\n}\n\nad_t_table <- tibble(month_year = as.character(unique(all_agg_data$month_year)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\n\n\n\n4.1.2 Dunn Pairwise Test\nFrom the tests results, March 2022 shows significant differences in wage, expenses and recreation spending. While it is understandable that wages in March would be significantly different, expenses and recreation spending also saw increases. This can be explained by various reasons such as celebrating a large payout, good harvest, etc.\n\n\n\n\n\n\nNote\n\n\n\nOnly bars with non-significant test results were plotted, i.e. no bars were found from March 2022 since its data was significantly different from all other months.\n\n\n\nWageExpensesRecreation\n\n\n\n\nCode\nggbetweenstats(\n  data = all_agg_data,\n  x = month_year, \n  y = Wage,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\nCode\nggbetweenstats(\n  data = all_agg_data,\n  x = month_year, \n  y = Expenses,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\nCode\nggbetweenstats(\n  data = all_agg_data,\n  x = month_year, \n  y = Recreation,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#correlation-with-financial-health",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#correlation-with-financial-health",
    "title": "Take Home Exercise 1",
    "section": "4.4 Correlation with Financial Health",
    "text": "4.4 Correlation with Financial Health\nFollowing from section 3.1, the correlation plots below confirms that wage is indeed strongly correlated to financial health\n\nWageExpensesRecreation\n\n\n\n\nCode\nggscatterstats(\n data = all_agg_data,\n x = Wage,\n y = Financial_Health,\n marginal = FALSE) +\n  theme_minimal() +\n  labs(title = 'Correlation of Financial Health and Wage', x = \"Wage\", y = \"Financial Health\")\n\n\n\n\n\n\n\n\n\nCode\nggscatterstats(\n data = all_agg_data,\n x = Expenses,\n y = Financial_Health,\n marginal = FALSE) +\n  theme_minimal() +\n  labs(title = 'Correlation of Financial Health and Expenses', x = \"Expenses\", y = \"Financial Health\")\n\n\n\n\n\n\n\n\n\nCode\nggscatterstats(\n data = all_agg_data,\n x = Recreation,\n y = Financial_Health,\n marginal = FALSE) +\n  theme_minimal() +\n  labs(title = 'Correlation of Financial Health and Recreation', x = \"Recreation\", y = \"Financial Health\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-health-across-joviality-groups",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-health-across-joviality-groups",
    "title": "Take Home Exercise 1",
    "section": "4.2 Differences in Financial Health across Joviality Groups",
    "text": "4.2 Differences in Financial Health across Joviality Groups\n\n4.2.1 Normality Assumption Check\nFrom the results below, the financial health data did not seem to follow a normal distribution in all groups at a 95% confidence level. Hence, the pairwise non-parametric tests were carried out.\n\n\nCode\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$joviality_group)){\n  subdf <- subset(x=all_agg_data, subset = joviality_group == i)\n  ad_t[[x]] <- ad.test(subdf$Financial_Health)\n  x <- x+1\n}\n\nad_t_table <- tibble(joviality_group = as.character(unique(all_agg_data$joviality_group)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\n4.2.2 Dunn Pairwise Test - Spending more money correlates to being happy???\nFrom the tests results, higher joviality groups do tend to have lower financial health.\n\n\n\n\n\n\nNote\n\n\n\nOnly bars with non-significant test results were plotted, i.e. most groups were found to be significantly different from all other groups other than the top 3 and bottom 2 joviality groups.\n\n\n\n\nCode\nggbetweenstats(\n  data = all_agg_data,\n  x = joviality_group, \n  y = Financial_Health,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-health-across-education-levels",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#differences-in-financial-health-across-education-levels",
    "title": "Take Home Exercise 1",
    "section": "4.3 Differences in Financial Health across Education Levels",
    "text": "4.3 Differences in Financial Health across Education Levels\n\n4.3.1 Normality Assumption Check\nFrom the results below, the financial health data did not seem to follow a normal distribution in all groups at a 95% confidence level. Hence, the pairwise non-parametric tests were carried out.\n\n\nCode\nad_t <- list()\nx=1\nfor (i in unique(all_agg_data$educationLevel)){\n  subdf <- subset(x=all_agg_data, subset = educationLevel == i)\n  ad_t[[x]] <- ad.test(subdf$Financial_Health)\n  x <- x+1\n}\n\nad_t_table <- tibble(educationLevel = as.character(unique(all_agg_data$educationLevel)),\n                        p_value = unlist(lapply(ad_t, `[[`, 2)))\n\nDT::datatable(ad_t_table, class= \"compact\")\n\n\n\n\n\n\n\n\n\n4.3.2 Dunn Pairwise Test - Higher education level correlates to better financial health!\nFrom the tests results, higher education level groups do tend to have higher financial health. This may be correlated to higher financial literacy and career opportunities.\n\n\n\n\n\n\nNote\n\n\n\nOnly bars with non-significant test results were plotted, i.e. all groups were found to be significantly different from all other groups.\n\n\n\n\nCode\nggbetweenstats(\n  data = all_agg_data,\n  x = educationLevel, \n  y = Financial_Health,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"ns\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)"
  }
]